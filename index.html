<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/popper.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    
    <link rel="stylesheet" href="css/sweetalert2.min.css">
    <title>Tú Jardín</title>
  </head>
  <body>
    
    <nav class="navbar navbar-light" style="background-color: #B4E197;">
        <ul class="nav mr-auto">
            <a class="navbar-brand" href="index.html">
                <img src="imagenes/logo.png" width="30" height="30" alt="">
            </a>
            <li class="nav-item">
                <a style = "color: black" class="nav-link active" aria-current="page" href="index.html">
                    <img src="imagenes/home.png" width="30" height="30">
                </a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-expanded="false">
                <img src="imagenes/carrito.png" width="30" height="30">
              </a>
              <div id="carrito" class="dropdown-menu" aria-labelledby="navbarCollapse">
                <table id="lista-carrito" class="table">
                    <thead>
                        <tr>
                            <th>Imagen</th>
                            <th>Nombre</th>
                            <th>Precio</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <a href="#" id="vaciar-carrito" class="btn btn-primary btn-block">Vaciar Carrito</a>
                <a href="#" id="procesar-pedido" class="btn btn-danger btn-block">Procesar Compra</a>
              </div>
          </li>
          </ul>
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" placeholder="Buscar" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Buscar</button>
            </form>
          <ul class="nav ml-auto">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-expanded="false">
                  Inicia sesión
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="Login.html">Inicia sesión</a>
                  <a class="dropdown-item" href="Login_registro.html">Regístrate</a>
                </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="fundacion.html">Fundación</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="nosotros.html">Nosotros</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="mi_cuenta.html">
                  <img src="imagenes/avatar.png" width="30" height="30">
              </a>
          </li>
        </ul>
    </nav>

    <section id="carrusel">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img src="imagenes/jardin21.jpg" class="d-block w-100" height="300" alt="...">
              </div>
              <div class="carousel-item">
                <img src="imagenes/jardin19.jpg" class="d-block w-100" height="300"  alt="...">
              </div>
              <div class="carousel-item">
                <img src="imagenes/jardin20.jpg" class="d-block w-100" height="300" alt="...">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-target="#carouselExampleIndicators" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-target="#carouselExampleIndicators" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </button>
          </div>
    </section>

    <!--<<div class="container" id="lista-productos">
            
      div class="card-deck mb-3 text-center">
          
          <div class="card mb-4 shadow-sm">
              <div class="card-header">
                  <h4 class="my-0 font-weight-bold">Maceta</h4>
              </div>
              <div class="card-body">
                  <img src="imagenes/macetero1.jpg" class="card-img-top">
                  <h1 class="card-title pricing-card-title precio">$ <span class="">15000</span></h1>

                  <ul class="list-unstyled mt-3 mb-4">
                      <li></li>
                      <li>Vendedor: Casa Ideas</li>
                      <li>Color Verde</li>
                  </ul>
                  <a href="" class="btn btn-block btn-primary agregar-carrito" data-id="1">Comprar</a>
              </div>
          </div>

          <div class="card mb-4 shadow-sm">
              <div class="card-header">
                  <h4 class="my-0 font-weight-bold">Pala </h4>
              </div>
              <div class="card-body">
                  <img src="imagenes/pala.png" class="card-img-top">
                  <h1 class="card-title pricing-card-title precio">$ <span class="">10000</span></h1>

                  <ul class="list-unstyled mt-3 mb-4">
                      <li></li>
                      <li>Vendedor: Casa Idea</li>
                      <li>Color plateado</li>
                  </ul>
                  <a href="" class="btn btn-block btn-primary agregar-carrito" data-id="2">Comprar</a>
              </div>
          </div>

          <div class="card mb-4 shadow-sm">
              <div class="card-header">
                  <h4 class="my-0 font-weight-bold">Manguera</h4>
              </div>
              <div class="card-body">
                  <img src="imagenes/manguera2.jpg" class="card-img-top">
                  <h1 class="card-title pricing-card-title precio">$ <span class="">30000</span></h1>

                  <ul class="list-unstyled mt-3 mb-4">
                      <li></li>
                      <li>Vendedir: Casa Ideas</li>
                      <li>Color Amarillo</li>
                  </ul>
                  <a href="" class="btn btn-block btn-primary agregar-carrito" data-id="3">Comprar</a>
              </div>
          </div>

      </div>

      <div class="card-deck mb-3 text-center">
          
          <div class="card mb-4 shadow-sm">
              <div class="card-header">
                  <h4 class="my-0 font-weight-bold">Planta</h4>
              </div>
              <div class="card-body">
                  <img src="imagenes/planta.jpg" class="card-img-top">
                  <h1 class="card-title pricing-card-title precio">$ <span class="">25900</span></h1>

                  <ul class="list-unstyled mt-3 mb-4">
                      <li></li>
                      <li>Vendedor: Casa Idea</li>
                      <li>Tipo: china</li>
                  </ul>
                  <a href="" class="btn btn-block btn-primary agregar-carrito" data-id="4">Comprar</a>
              </div>
          </div>

          <div class="card mb-4 shadow-sm">
              <div class="card-header">
                  <h4 class="my-0 font-weight-bold">Tierra</h4>
              </div>
              <div class="card-body">
                  <img src="imagenes/tierra1.jpg" class="card-img-top">
                  <h1 class="card-title pricing-card-title precio">$ <span class="">15000</span></h1>

                  <ul class="list-unstyled mt-3 mb-4">
                      <li></li>
                      <li>Vendedor:</li>
                      <li>Tipo:</li>
                  </ul>
                  <a href="" class="btn btn-block btn-primary agregar-carrito" data-id="5">Comprar</a>
              </div>
          </div>

          <div class="card mb-4 shadow-sm">
              <div class="card-header">
                  <h4 class="my-0 font-weight-bold">Rack</h4>
              </div>
              <div class="card-body">
                  <img src="imagenes/rack.jpg" class="card-img-top">
                  <h1 class="card-title pricing-card-title precio">$ <span class="">50000</span></h1>

                  <ul class="list-unstyled mt-3 mb-4">
                      <li></li>
                      <li>Vendedor:</li>
                      <li>Tipo:</li>
                  </ul>
                  <a href="" class="btn btn-block btn-primary agregar-carrito" data-id="6">Comprar</a>
              </div>
          </div>

      </div> -->

      <!-- Tienda Productos -->
        <div class="container">
          <h3 class="section-title text-center">Productos</h3>
          <div class="row" id="lista-productos">
  
          </div>
        </div>




  <!--</div>-->

  <footer class="bg-light text-center text-white">
    <div class="text-center p-3" id="pie">
      © 2022 Copyright:
      <a class="text-white" href="https://mdbootstrap.com/"></a>tujardin.com
  </footer>

    

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
    <script src="js/sweetalert2.min.js"></script>
    <script src="js/carrito.js"></script>
    <script src="js/pedido.js"></script>

    <script>

    const API_URL = 'http://127.0.0.1:5000';

    $(document).ready(function(){
      getProductos();
    });

    addCardProducto = (id_producto, codigo, nombre, valor_venta, stock, descripcion, imagen, estado) => {
    var card =  `<div class="col-md-4">
                    <div class="card-header">
                      <h4 class="my-0 font-weight-bold" id="nombre_producto">${nombre}</h4>
                    </div>
                    <div class="card-body">
                      <img src="${imagen}" alt="Rounded Image" width="300" height="300" id="imagen_producto">
                      <h1 class="card-title pricing-card-title precio">$ <span class=""> ${valor_venta}</span></h1>
                          
                          <ul class="list-unstyled mt-3 mb-4">
                            <li></li>
                            <li>${descripcion}</li>
                          </ul>

                          <a href="" class="btn btn-block btn-primary agregar-carrito" data-id="${id_producto}">Comprar</a>
                    </div>
                </div>`;
    // agregar a cards_products
    $("#lista-productos").append(card);
  }

  getProductos = () => {
    $.ajax({
      url: API_URL + '/productos',
      type: 'GET',
      dataType: 'json',
      success: function(data) {
        $.each(data, function(index, value) {

          //html += '<option value="' + value.id + '">' + value.nombre + '</option>';

          addCardProducto(value.id_producto, value.codigo, value.nombre, value.valor_venta, value.stock, value.descripcion, value.imagen);

        });

      }
    });
  }



    </script>

  </body>
</html>